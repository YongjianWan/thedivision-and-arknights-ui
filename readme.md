# Personal Interface Language Specification v2.0

> 个人界面语言规范
> 
> 一套"个人终端/战术地图"感的设计系统

---

## 这套语言是什么

**不是网页，不是App，是你的系统。**

像一个正在运行的个人终端、战术地图、指挥界面。用户不是在"浏览"，是在"操作系统"。

**关键词**：近未来科幻 · 硬朗 · 模块化 · 信息密但不乱 · 炫但不吵

### 风格来源

| 来源         | 贡献                                                     |
| ------------ | -------------------------------------------------------- |
| 《全境封锁》 | 仪表盘现实主义：半透明、细线框、扫描/锁定/刷新的动效语义 |
| 《明日方舟》 | 平面化编辑设计：硬版式块面、强文字层级、信息板/档案卡感  |

这不是对这两个游戏的cos，而是提取它们共同的内核，形成你自己的语言。

---

## 适用场景声明

### ✅ 适合

- **个人工具**：效率应用、知识库、笔记系统
- **开发者向产品**：终端工具、DevOps 面板、代码编辑器插件
- **监控/数据看板**：运维监控、实时数据、系统状态面板
- **游戏相关界面**：游戏内 UI、战斗 HUD、数据统计
- **极具个人特色的作品集/博客**：追求视觉辨识度的展示型网站

**定位**：可作为界面母版，快速搭建"硬核科幻风"系统界面。

### ❌ 不适合

- **电商平台**：需要柔和、亲和的购物体验
- **社交应用**：强调人际温度和轻松氛围
- **内容消费类产品**：阅读、视频等需要舒适沉浸的场景
- **面向大众的工具**：需要降低认知负担的通用型产品

**原因**：这套系统刻意强化"操作感"和"信息密度"，不符合大众消费心理。

---

## 目录

1. [设计宪法](#第一章设计宪法)
2. [视觉语法](#第二章视觉语法)
3. [Design Tokens](#第三章design-tokens)
4. [组件规范](#第四章组件规范)
5. [交互元素工具箱](#第五章交互元素工具箱)
6. [动效系统](#第六章动效系统)
7. [状态系统](#第七章状态系统)
8. [输入设备与命中区域](#第八章输入设备与命中区域)
9. [科幻调性边界](#第九章科幻调性边界)
10. [验收清单](#第十章验收清单)
11. [项目启动清单](#第十一章项目启动清单)
12. [页级动效脚本](#第十二章页级动效脚本)

---

## 第一章：设计宪法

**这些不可妥协，破了就不是这套风格。**

### 1.1 界面是"系统"，不是"页面"

每个界面都像一个正在运行的终端：
- 有状态（在线/离线/同步中/异常）
- 有反馈（操作后系统响应）
- 有层级（可以深入、可以返回、有上下文连接）

### 1.2 强调色是焦点，不是装饰

无论你选什么颜色作为强调色，规则不变：

**强调色只用于**：
- 当前可操作的元素
- 被选中/聚焦的状态
- 关键告警
- 关键读数

**禁止**：把强调色当背景铺、当装饰撒。

### 1.3 结构稳定

空/加载/错误/有数据——**只换内容，不换骨架**。

用户的肌肉记忆是神圣的。

### 1.4 三层信息

| 层级   | 作用             | 规则           |
| ------ | ---------------- | -------------- |
| 读数层 | 关键数值、状态   | 最稳定、最醒目 |
| 操作层 | 当前焦点、可交互 | 强调色在这里   |
| 背景层 | 环境、氛围、装饰 | 永远不抢戏     |

**做任何页面先问**：用户现在最需要哪个读数？其次要做什么操作？剩下的全是背景。

### 1.5 硬朗，不软糯

- 边角：小圆角或直角，不要大圆角
- 动效：短促、干脆，不要弹跳、不要果冻
- 反馈：即时、明确，不要延迟、不要模糊

### 1.6 炫但不吵

**炫的来源**：
- 构建式出现（先骨架后填充）
- 状态触发的视觉信号
- 精致的微交互
- 环境层的轻微呼吸

**不吵的约束**：
- 同时动的东西 ≤ 2
- 动效短（大多 <300ms）
- 没有无意义的循环
- 背景层永远安静

---

## 第二章：视觉语法

### 2.1 边框系统：外粗内细

这是这套风格的标志性处理。

```
┏━━━━━━━━━━━━━━━━━━━━━━━━┓  ← 外框：粗（2-3px）
┃ ┌──────────────────┐  ┃
┃ │                  │  ┃  ← 内框：细（0.5-1px）
┃ │     内容区域      │  ┃
┃ │                  │  ┃
┃ └──────────────────┘  ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━┛
```

**容器强调等级**：

| 等级 | 边框处理                       | 使用场景                                  |
| ---- | ------------------------------ | ----------------------------------------- |
| L0   | 无边框                         | 普通内容块、文字区域                      |
| L1   | 细边框 1px，border.weak        | 普通 Panel、列表容器                      |
| L2   | 外粗(2px border.strong) + 内细 | 关键容器：地图画布、主详情面板、主HUD模块 |
| L3   | 外粗(2-3px accent) + 内细      | 仅限当前焦点模块 或 告警模块              |

**规则**：
- 默认外框用 `border.strong`，不要默认就用 accent
- accent 外框只给 L3（焦点/告警）
- 一个页面同时存在的 L3 容器最多 1 个

### 2.2 网格系统

**8pt 主网格 + 4pt 子网格**

| 网格         | 用途                                                 |
| ------------ | ---------------------------------------------------- |
| 8pt 及其倍数 | 布局级间距：模块之间、分栏、卡片 padding、组件尺寸   |
| 4pt          | 仅限微调：描边内缩、图标与文字间距、密集列表行内微调 |

**硬规则**：布局级间距必须是 8 的倍数。4pt 只能用于组件内部微调。

### 2.3 模块化与卡片

界面由**信息模块**组成：
- 每个模块是独立的信息单元
- 有明确边界（线框或底色）
- 网格对齐，间距统一
- 模块之间的关系通过位置和连线表达

### 2.4 色彩规则

**语义色使用规则**：

> 同一时刻可见的"高饱和强调色"最多 2 种（默认：accent + danger）。

| 语义色  | 默认处理               | 允许高饱和的场景     |
| ------- | ---------------------- | -------------------- |
| accent  | 高饱和，用于焦点/关键  | 始终                 |
| danger  | 高饱和，用于错误/告警  | 始终                 |
| warning | 低饱和版本 或 图标辅助 | 仅监控看板，面积 <5% |
| success | 灰阶 + 勾图标          | 仅监控看板，面积 <5% |

**原则**：保持"战术指令色"的克制，不是运营彩虹板。

### 2.5 排版

**数字是主角**：
- 关键读数要大、要亮
- 等宽数字（tabular nums）保证对齐
- 单位紧贴数字，字号更小

**层级清晰**：
- 标题/正文/标签/微字，层级分明
- 用字号和色彩区分，少用字重变化

### 2.6 圆角

| 场景           | 圆角  |
| -------------- | ----- |
| 大容器/面板    | 0-4px |
| 按钮/输入框    | 2-4px |
| 标签/徽章      | 2px   |
| 需要"硬"的地方 | 0px   |

**原则**：宁方勿圆。圆角越大越"软"，越不战术。

---

## 第三章：Design Tokens

### Token 真源声明

**`tokens.json` 是唯一真源。** 所有其他格式（CSS、TypeScript、SCSS）由 JSON 生成。修改时只改 JSON。

### 3.1 颜色

```json
{
  "color": {
    "bg": {
      "base": "#0B0E12",
      "elevated": "#101622",
      "overlay": "rgba(10, 14, 18, 0.75)"
    },
    "text": {
      "primary": "#E6EDF3",
      "secondary": "#9AA6B2",
      "disabled": "#4A5568"
    },
    "border": {
      "strong": "#3A4A5A",
      "weak": "rgba(42, 58, 70, 0.5)"
    },
    "accent": "#FF6A00",
    "accentHover": "#FF7A1A",
    "danger": "#FF3B30",
    "dangerMuted": "#CC2F28",
    "success": "#32D74B",
    "successMuted": "#1A5C28",
    "warning": "#B8860B",
    "warningMuted": "#8B6914"
  }
}
```

**注意**：
- `accent` 是项目启动时确定的变量，可以是任何颜色
- `*Muted` 变体用于需要低饱和表达的场景

### 3.2 间距

```json
{
  "spacing": {
    "micro": "4px",
    "sm": "8px",
    "md": "16px",
    "lg": "24px",
    "xl": "32px",
    "2xl": "48px"
  }
}
```

**规则**：
- `micro` (4px) 仅限组件内部微调
- 布局间距使用 `sm` (8px) 及以上

### 3.3 边框

```json
{
  "border": {
    "width": {
      "thin": "0.5px",
      "base": "1px",
      "thick": "2px",
      "heavy": "3px"
    },
    "radius": {
      "none": "0",
      "sm": "2px",
      "md": "4px",
      "lg": "6px"
    }
  }
}
```

### 3.4 排版

```json
{
  "typography": {
    "fontFamily": {
      "sans": "Inter, -apple-system, BlinkMacSystemFont, sans-serif",
      "mono": "'JetBrains Mono', 'Fira Code', monospace",
      "display": "'DIN Alternate', 'Roboto Condensed', sans-serif"
    },
    "fontSize": {
      "micro": "11px",
      "meta": "12px",
      "body": "14px",
      "h3": "16px",
      "h2": "20px",
      "h1": "28px",
      "display": "36px"
    },
    "lineHeight": {
      "tight": "1.2",
      "base": "1.5",
      "relaxed": "1.7"
    }
  }
}
```

### 3.5 动效

```json
{
  "motion": {
    "duration": {
      "instant": "80ms",
      "fast": "140ms",
      "base": "220ms",
      "slow": "320ms",
      "slower": "480ms"
    },
    "easing": {
      "default": "cubic-bezier(0.4, 0, 0.2, 1)",
      "enter": "cubic-bezier(0, 0, 0.2, 1)",
      "exit": "cubic-bezier(0.4, 0, 1, 1)"
    }
  }
}
```

### 3.6 CSS 变量生成参考

```css
/* 由 tokens.json 生成，勿手动修改 */
:root {
  /* 背景 */
  --bg-base: #0B0E12;
  --bg-elevated: #101622;
  --bg-overlay: rgba(10, 14, 18, 0.75);

  /* 文字 */
  --text-primary: #E6EDF3;
  --text-secondary: #9AA6B2;
  --text-disabled: #4A5568;

  /* 边框 */
  --border-strong: #3A4A5A;
  --border-weak: rgba(42, 58, 70, 0.5);

  /* 强调色 */
  --accent: #FF6A00;
  --accent-hover: #FF7A1A;
  --danger: #FF3B30;
  --danger-muted: #CC2F28;

  /* 边框宽度 */
  --border-thin: 0.5px;
  --border-base: 1px;
  --border-thick: 2px;
  --border-heavy: 3px;

  /* 圆角 */
  --radius-sm: 2px;
  --radius-md: 4px;

  /* 间距 */
  --space-micro: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;

  /* 动效 */
  --duration-fast: 140ms;
  --duration-base: 220ms;
  --duration-slow: 320ms;
  --ease: cubic-bezier(0.4, 0, 0.2, 1);
}
```

---

## 第四章：组件规范

### 4.1 面板（Panel）

**结构**：
- 背景（半透明或实色）
- 边框（根据 L0-L3 等级）
- 标题区（可选）
- 内容区
- 状态指示（可选，角落小点/图标）

**边框处理**：
- L1 普通面板：`border.weak` 1px
- L2 关键面板：外框 `border.strong` 2px + 内框 `border.weak` 0.5px
- L3 焦点面板：外框 `accent` 2px + 内框 `border.weak` 0.5px

### 4.2 按钮（Button）

| 类型      | 用途                      | 样式              |
| --------- | ------------------------- | ----------------- |
| Primary   | 主操作（一屏最多1个区域） | accent 填充       |
| Secondary | 次要操作                  | 边框 + 透明底     |
| Ghost     | 工具栏/密集区             | 纯文字            |
| Danger    | 危险操作                  | danger 填充或边框 |

**尺寸**：

| 尺寸 | 高度 | Padding   | 最小命中区域 |
| ---- | ---- | --------- | ------------ |
| sm   | 28px | 8px 12px  | 28×44 (触屏) |
| md   | 36px | 8px 16px  | 36×44 (触屏) |
| lg   | 44px | 12px 24px | 44×44        |

### 4.3 列表行（List Row）

**结构固定**：
```
[ 图标 ] | [ 标题 + 副信息 ] | [ 数值/状态 ]
```

**数据契约**：
```typescript
type ListRow = {
  id: string;
  title: string;
  meta?: string;
  icon?: string;
  value?: string | number;
  status?: "ok" | "warn" | "err" | "busy" | "offline";
  tags?: string[];
  disabled?: boolean;
};
```

**空值策略**：meta/value/tags 缺失 → 隐藏但保留对齐占位

**焦点行样式**：
- 左侧 2px accent 条
- 背景亮一档
- 数字更亮

### 4.4 输入框（Input）

| 状态     | 样式                         |
| -------- | ---------------------------- |
| default  | `border.weak` 1px            |
| hover    | `border.strong` 1px          |
| focus    | accent 1px 或 左侧 accent 条 |
| error    | danger 边框 + 提示文案       |
| disabled | 降低对比度                   |

### 4.5 标签/徽章（Tag/Badge）

- 轻量：细边框 + 透明底
- 颜色：仅 accent / muted / danger
- 禁止彩虹品质色

### 4.6 HUD 读数（HUD Meter）

```
  12,847
━━━━━━━━━━━━ 78%
 POWER LEVEL
```

- 数字：大、亮、等宽、display 字体
- 进度条：细（2-3px）
- 标签：meta 字号、text.secondary

### 4.7 通知（Toast）

- 位置：边角，不打断主流程
- 自动消失（3-5s）
- 可堆叠（最多 3 条可见）
- 同类通知合并

**数据契约**：
```typescript
type Toast = {
  id: string;
  level: "info" | "accent" | "warn" | "err";
  title: string;
  detail?: string;
  action?: { label: string; onClick: () => void };
};
```

**动效**：从右侧滑入（220ms），停留后淡出（150ms）。

### 4.8 选择器（Select/Dropdown）

**结构**：
```
[ 当前值 ▼ ]  ← 触发器
     ↓
┌─────────────┐
│ ◉ Option A  │ ← 选中项有 accent 点
│ ○ Option B  │
│ ○ Option C  │
└─────────────┘
```

**状态**：
- default：`border.weak` 1px
- hover：`border.strong` 1px
- open：accent 左侧条 + 展开面板

**动效**：
- 展开：LineDraw 边框（150ms）+ 选项错开淡入（每项延迟 40ms）
- 选中：Ping 一次 + 数值更新

**交互**：
- 点击/Enter 展开
- 方向键导航
- Esc 关闭
- 选中后立即关闭面板

### 4.9 数据表格（Table）

**结构**：
```
┌──────┬──────────┬──────┬────────┐
│ ID ▲ │ Name     │ Type │ Status │ ← 表头可点击排序
├──────┼──────────┼──────┼────────┤
│ 001  │ Node-A   │ HTTP │ ✓ OK   │
│ 002  │ Node-B   │ WS   │ ⚠ WARN │
│ 003  │ Node-C   │ TCP  │ ✗ ERR  │
└──────┴──────────┴──────┴────────┘
```

**行状态**：
- default：`border.weak` 分割线
- hover：背景亮一档
- selected：左侧 2px accent 条 + 背景亮两档

**动效**：
- 排序：整表淡出淡入（180ms），**禁止**行重排动画
- 加载：Skeleton 保持表格结构
- 新增行：从上/下滑入（220ms）
- 删除行：淡出 + 其他行补位（180ms）

**数据契约**：
```typescript
type TableColumn = {
  key: string;
  label: string;
  sortable?: boolean;
  align?: "left" | "center" | "right";
  width?: string | number;
};

type TableRow = {
  id: string;
  [key: string]: any;
  _status?: "ok" | "warn" | "err";
  _disabled?: boolean;
};
```

### 4.10 弹窗/抽屉（Modal/Drawer）

**Modal（中央弹窗）**：
```
       ┌──────────────┐
       │ [✕] Title    │ ← 右上角关闭
       ├──────────────┤
       │              │
       │   Content    │
       │              │
       ├──────────────┤
       │ [Cancel] [OK]│
       └──────────────┘
```

**Drawer（侧边抽屉）**：
```
                    ┌─────────────┐
                    │ [✕] Title   │
                    ├─────────────┤
                    │             │
                    │  Content    │
                    │             │
                    └─────────────┘
                         ↑ 从右/左滑入
```

**动效**：
- Modal 打开：遮罩淡入（150ms）+ 面板 scale 0.96→1.0（200ms）
- Modal 关闭：面板 scale 1.0→0.96（150ms）+ 遮罩淡出（150ms）
- Drawer 打开：从边缘滑入（250ms）+ 遮罩淡入（150ms）
- Drawer 关闭：滑出（200ms）+ 遮罩淡出（150ms）
- **打开后立即冻结所有背景层动效**

**交互**：
- Esc 关闭
- 遮罩点击关闭（可配置）
- 焦点锁定在 Modal/Drawer 内

### 4.11 标签页（Tabs）

**结构**：
```
[ Tab A ]  Tab B   Tab C
━━━━━━━━  ────────────────
  ↑ 当前激活有 accent 下划线

Content for Tab A
```

**动效**：
- 切换：下划线滑动（180ms）+ 内容淡出淡入交替（总共 220ms）
- hover：淡入灰色下划线（100ms）

**状态**：
- active：accent 下划线（2px）
- hover：`text.secondary` → `text.primary`
- disabled：`text.disabled`，不可点击

### 4.12 进度/加载（Progress/Loading）

**Progress Bar**：
```
━━━━━━━━░░░░░░░░  67%
```

**Spinner（圆形加载）**：
```
   ◐  ← 旋转，线宽 2px，直径 16-24px
```

**Skeleton（骨架屏）**：
- 保持目标内容的结构
- 用 `border.weak` 线框 + 半透明背景
- 轻微呼吸动效（1.5s 循环，透明度 0.4→0.6）

**动效规则**：
- Progress Bar：填充动画 easing `cubic-bezier(0.4, 0, 0.2, 1)`
- Spinner：匀速旋转 800ms/圈
- Skeleton：呼吸 1500ms 循环
- **加载完成瞬间：Ping 一次（120ms）**

### 4.13 表单控件（Checkbox/Radio/Switch）

**Checkbox**：
```
☐  未选中
☑  选中（accent 色勾）
⊡  部分选中（accent 色横线）
```

**Radio**：
```
○  未选中
◉  选中（accent 色实心点）
```

**Switch**：
```
OFF  ◯────  ← 左侧灰色
ON   ────◯  ← 右侧 accent 色
```

**动效**：
- Checkbox 选中：勾形 LineDraw（80ms）
- Radio 选中：中心点 scale 0→1（100ms）
- Switch 切换：滑块滑动（150ms）+ 背景色渐变（150ms）
- 所有点击：Ping 一次（100ms）

**尺寸**：
- 最小命中区域：44×44px（触屏）/ 32×32px（桌面）
- 图标本身：16-20px

### 4.14 提示（Tooltip）

**结构**：
```
     ┌──────────────┐
     │ Hint message │
     └───────┬──────┘
             │
         [ Button ]
```

**触发**：
- hover 延迟 500ms 显示
- 离开立即隐藏
- 触屏：长按 600ms 显示，点击其他地方隐藏

**动效**：
- 出现：淡入 + 向下微移 4px（120ms）
- 消失：淡出（80ms）

**规则**：
- 字号：`meta`（12px）
- 背景：`bg.elevated` + `border.weak`
- 不要写长文，控制在一行或两行

### 4.15 分割线（Divider）

**类型**：
- 水平：`border.weak` 1px，上下留 `spacing.md`（16px）
- 垂直：`border.weak` 1px，左右留 `spacing.sm`（8px）

**带文字分割**：
```
─────────  SECTION  ─────────
```

**动效**：通常无动效，页面加载时可用 LineDraw（200ms）

### 4.16 卡片（Card）

**与 Panel 的区别**：
- Panel：功能模块，边框更重，强调"系统区域"
- Card：内容单元，边框更轻，可点击

**结构**：
```
┌─────────────────┐
│ [图] Title      │ ← 可选顶部图像/图标
│ Meta info       │
├─────────────────┤
│ Description or  │
│ content preview │
├─────────────────┤
│ [Tag] [Action]  │ ← 底部操作
└─────────────────┘
```

**状态**：
- default：`border.weak` 1px
- hover：边框 → `border.strong` + 背景亮一档（100ms）
- active/selected：左侧 accent 条 2px

**动效**：
- hover：边框加粗 + 背景亮度（100ms）
- 点击：Ping 一次（120ms）
- 网格加载：错开 LineDraw（每张延迟 60ms）

### 4.17 面包屑（Breadcrumb）

**结构**：
```
Home  >  Dashboard  >  Node Details
                        ^^^^^^^^^^^
                        当前页，accent 色
```

**交互**：
- 每一级可点击（除当前页）
- hover：文字颜色变亮
- 点击：Ping 一次 + 页面切换

**动效**：
- 新增层级：从右滑入（180ms）
- 返回：淡出当前级（120ms）

**规则**：
- 字号：`meta`（12px）
- 分隔符：`>` 或 `/`，颜色 `text.disabled`
- 当前页：`text.primary` + accent 下划线（可选）

---

## 第五章：交互元素工具箱

**这些是可选工具，根据项目需要选用。**

### 5.1 点阵/网格（Dot Grid）

**作用**：暗示数字空间、给空白区域环境感

**参数**：
| 参数   | 范围       |
| ------ | ---------- |
| 点间距 | 12-20px    |
| 点大小 | 1-2px      |
| 透明度 | 0.05-0.15  |
| 闪烁   | 极轻微或无 |

### 5.2 关系图谱（Node Graph）

**数据契约**：
```typescript
type GraphNode = {
  id: string;
  label: string;
  type?: string;
  weight?: number;
  meta?: string;
};

type GraphEdge = {
  from: string;
  to: string;
  kind?: string;
  strength?: number;
};
```

**交互**：
| 操作         | 行为                   |
| ------------ | ---------------------- |
| Hover        | 显示标签               |
| Click        | 锁定 + 高亮 1-hop 关联 |
| Double-click | 展开 children          |
| Esc          | 回退一级（不是清空）   |

### 5.3 层级导航连线

父元素和子面板之间的视觉连接，保持用户知道"我从哪来"。

```
[父项] ──────┐
             │
       ┌─────┴─────┐
       │  子面板   │
       └───────────┘
```

用细线（`border.weak`），不抢主内容。

### 5.4 数据可视化

**规则**：
- 轴线/网格：极淡，用 `border.weak`
- 数据线/点：可用 accent
- 样式：和整体系统一致，不用默认图表库样式
- Legend：用系统组件，不用图表库默认

### 5.5 扫描效果（Scan Sweep）

**用途**：进入页面、加载完成、数据刷新

**参数**：
| 参数 | 值               |
| ---- | ---------------- |
| 宽度 | 30-50px          |
| 时长 | 800-1500ms       |
| 触发 | 仅状态变化时一次 |

### 5.6 构建式出现（Build Animation）

内容不是"淡入"，是"被渲染出来"：
- 先边框/骨架，后内容填充
- 或从某方向"绘制"出来
- LineDraw 时长：140-240ms

### 5.7 脉冲反馈（Ping）

**用途**：点击确认、选中、告警

**参数**：
| 参数 | 值            |
| ---- | ------------- |
| 半径 | 64-96px       |
| 时长 | 150-300ms     |
| 次数 | 1-2次，不持续 |

### 5.8 轻故障效果（Soft Glitch）

**用途**：网络异常、错误状态

**规则**：
- 位移：1-2px
- 时长：<100ms
- 频率：极少用
- 不能影响可读性

---

## 第六章：动效系统

### 6.1 总开关规则

> **任何前景交互（drag/resize/selection）进行时，背景层动效必须冻结。**
> 
> **任何 Modal/Drawer 打开时，除必要状态提示外，所有循环类/环境类动效冻结。**

### 6.2 基本原则

| 原则     | 说明                           |
| -------- | ------------------------------ |
| 状态驱动 | 动效只在状态变化时发生         |
| 短促     | 大多数 <300ms                  |
| 干脆     | 不要弹跳、不要果冻             |
| 有意义   | 每个动效要能解释"它在提示什么" |

### 6.3 时长参考

| 场景        | 时长       |
| ----------- | ---------- |
| Hover/Focus | 100-150ms  |
| 点击反馈    | 80-150ms   |
| 面板展开    | 180-260ms  |
| 页面切换    | 250-350ms  |
| 扫描效果    | 800-1500ms |

### 6.4 禁止事项

- ❌ 无意义的循环动画
- ❌ 弹跳/果冻/软糯的缓动
- ❌ 同时 >2 个动效在播放
- ❌ 背景层动效抢戏
- ❌ 动效影响可读性

---

## 第七章：状态系统

### 7.1 状态优先级

```
Idle < Hover < Focus < Active < Loading < Warning < Error < Critical
```

高优先级覆盖低优先级的视觉表现。

### 7.2 互斥规则

| 状态           | 允许                               | 禁止                |
| -------------- | ---------------------------------- | ------------------- |
| Loading        | LineDraw, Skeleton, 一次 ScanSweep | Glitch, 多处 Ping   |
| Error/Critical | 一次 Glitch + 状态字               | 背景动效            |
| Modal 打开     | 静态背景                           | 所有循环/环境动效   |
| Drag/Resize    | hover 高亮                         | ScanSweep, 布局动画 |

### 7.3 组件状态全覆盖

每个组件必须实现：
- default
- hover
- focus
- active
- disabled
- loading（如适用）
- error（如适用）

---

## 第八章：输入设备与命中区域

### 8.1 最小命中区域

| 场景                  | 最小尺寸                   |
| --------------------- | -------------------------- |
| 移动端/触屏           | 44×44px                    |
| 桌面（有 hover 辅助） | 32×32px                    |
| 密集工具栏（桌面）    | 28×28px，但必须有 hover 态 |

### 8.2 焦点可视化

**键盘 Tab 焦点必须可见**：
- 方式：accent 细边框 或 左侧 accent 条
- 不能只靠颜色变化，必须有形状/位置变化

### 8.3 交互映射

| 输入                | 映射行为                   |
| ------------------- | -------------------------- |
| 左键单击 / 触屏点击 | 主操作                     |
| 右键 / 长按         | 上下文菜单（Context Menu） |
| 双击                | 展开/深入（如适用）        |
| Esc                 | 回退一级 / 关闭当前层      |
| Tab                 | 焦点移动                   |
| Enter               | 确认 / 执行焦点操作        |

**原则**：不要发明新手势，用户已有的习惯是神圣的。

---

## 第九章：科幻调性边界

### 9.1 这是近未来科幻

**可信的技术系统**：
- 像真的有人在用
- 像真的工程师设计的
- 信息优先，装饰服务于功能

### 9.2 不是什么

| ❌ 不是   | 为什么                       |
| -------- | ---------------------------- |
| 赛博朋克 | 太混乱、太颓废、太过载       |
| 魔法UI   | 没有凭空出现的光效           |
| 游戏cos  | 是你的系统，不是某游戏的抄袭 |
| 特效展示 | 功能优先，炫是附带的         |

### 9.3 调性关键词

✓ 战术 · 终端 · 指挥 · 控制台 · 仪表盘
✓ 硬朗 · 精确 · 克制 · 专业
✓ 近未来 · 可信 · 工程化

---

## 第十章：验收清单

每做完一个页面，过一遍：

### 色彩
- [ ] 强调色只用于焦点/告警/关键？
- [ ] 高饱和彩色 ≤ 2 种？
- [ ] warning/success 用了低饱和版本？

### 边框
- [ ] 边框等级符合 L0-L3 规则？
- [ ] accent 外框只用于焦点/告警容器？
- [ ] 同屏 L3 容器 ≤ 1？

### 结构
- [ ] 空/加载/错误状态骨架稳定？
- [ ] 间距使用 8pt 系统（4pt 仅微调）？

### 动效
- [ ] 每个动效能解释"提示什么"？
- [ ] 无意义循环 = 0？
- [ ] 同屏动效 ≤ 2？

### 可读性
- [ ] 背景层没有抢戏？
- [ ] 关键读数一眼可见？
- [ ] 所有文字清晰可读？

### 交互
- [ ] 命中区域达标（触屏 44px）？
- [ ] 键盘焦点可见？

### 调性
- [ ] 感觉像"系统/终端"？
- [ ] 硬朗不软糯？
- [ ] 炫但不吵？

---

## 第十一章：项目启动清单

每个新项目开始前确定：

1. **强调色**：什么颜色？（写入 tokens.json）
2. **背景策略**：纯色 / 点阵 / 图像？
3. **动效密度**：高(全部) / 中(核心) / 低(最小)？
4. **使用哪些工具**：点阵？图谱？扫描？连线导航？
5. **目标平台**：Web / Mobile / Desktop / Game？
6. **命中区域基准**：44px(触屏优先) / 32px(桌面优先)？

---

## 第十二章：页级动效脚本

三张母版页面的默认动效配置。

### 12.1 Dashboard（总览页）

**结构**：顶部 HUD Meter + 卡片网格 + 侧栏通知

| 触发点   | 动效               | 规则                |
| -------- | ------------------ | ------------------- |
| 页面进入 | 一次 ScanSweep     | 800-1200ms          |
| 数值变更 | DataTick           | 数字滚动 + 高亮衰减 |
| 卡片出现 | LineDraw           | 依次错开 80ms       |
| 通知出现 | 从右滑入           | 220ms               |
| 背景     | 静态或极轻点阵呼吸 | 禁止扫描常驻        |

**Toast 合并规则**：同类通知 3s 内合并，显示计数。

### 12.2 List + Detail（列表详情页）

**结构**：左侧列表 + 右侧详情面板

| 触发点    | 动效                  | 规则                |
| --------- | --------------------- | ------------------- |
| 选中行    | 左侧 accent 条 + Ping | Ping 一次 150ms     |
| 详情切换  | Panel LineDraw        | 180ms，先边框后内容 |
| 列表加载  | Skeleton              | 保持行结构          |
| 筛选/排序 | 列表淡出淡入          | 150ms，不要重排动画 |
| 空状态    | 静态图标 + 文案       | 无动效              |

### 12.3 Map / Graph（画布页）

**结构**：主画布 + 角落 HUD + 侧栏详情

| 触发点     | 动效             | 规则                 |
| ---------- | ---------------- | -------------------- |
| 节点选中   | LockOn + Ping    | 四角框收拢 + 脉冲    |
| 邻居高亮   | 连线亮起         | 沿线传播 180ms       |
| 展开子节点 | LineDraw         | 节点 + 连线同时绘制  |
| 拖拽中     | 冻结所有背景动效 | 只保留节点跟随       |
| 缩放       | 无动效           | 即时响应             |
| 详情面板   | LineDraw         | 从选中节点连线到面板 |

---

## 附录 A：反例

| 做了这个      | 就变成了         |
| ------------- | ---------------- |
| 大圆角        | 可爱/消费App     |
| 弹跳动效      | 游戏/儿童向      |
| 霓虹渐变      | 赛博酒吧         |
| 彩虹配色      | 运营看板         |
| 模糊太重      | PPT特效          |
| 常驻循环动画  | 信息焦虑机器     |
| accent 铺满   | 失去焦点指示作用 |
| L3 边框到处用 | 失去强调意义     |

---

## 附录 B：变体配置

根据项目需求选择预设变体：

### Default
```json
{
  "accent": "#FF6A00",
  "panelAlpha": 0.65,
  "motionLevel": "full"
}
```

### High-Contrast（可读性优先）
```json
{
  "panelAlpha": 0.85,
  "textPrimary": "#F5F5F5",
  "disabledEffects": ["dotFieldBlink", "glitch", "glow"]
}
```

### Low-Effects（低动效/商务）
```json
{
  "motionLevel": "minimal",
  "enabledEffects": ["ping", "lineDraw"],
  "durationMultiplier": 0.8
}
```

### Print / Static（打印/截图）
```json
{
  "motionLevel": "none",
  "panelAlpha": 1,
  "borderStyle": "solid"
}
```

---

## 版本历史

| 版本 | 日期       | 变更                                                                                                 |
| ---- | ---------- | ---------------------------------------------------------------------------------------------------- |
| 2.0  | 2026-01-13 | 统一版本：合并 v1.0/v1.1、解决冲突、补齐缺失（网格规则、边框等级、色彩语义、输入设备、页级动效脚本） |

---

> **这套语言的目标**：让你做的每个界面都像"你的系统"，并且十个项目之后依然一致、依然省力。