# PIL 核心规范 v3.0

> Personal Interface Language —— 战术终端风格设计系统

---

## 一句话定位

**不是网页，是你的系统。**

像一个正在运行的个人终端、战术地图、指挥界面。用户不是在"浏览"，是在"操作系统"。

---

## 不可妥协的设计宪法

### 1. 界面是"系统"，不是"页面"
- 有状态（在线/离线/同步中/异常）
- 有反馈（操作后系统响应）
- 有层级（可深入、可返回、有上下文）

### 2. 强调色只用于焦点
- ✅ 当前可操作的元素
- ✅ 被选中/聚焦的状态
- ✅ 关键告警
- ❌ 禁止当背景铺满

### 3. 结构稳定
空/加载/错误/有数据——**只换内容，不换骨架**。肌肉记忆是神圣的。

### 4. 三层信息层级
| 层级 | 作用 | 规则 |
|------|------|------|
| 读数层 | 关键数值、状态 | 最稳定、最醒目 |
| 操作层 | 当前焦点、可交互 | 强调色在这里 |
| 背景层 | 环境、氛围 | 永远不抢戏 |

### 5. 硬朗，不软糯
- 边角：小圆角或直角，**不要大圆角**
- 动效：短促、干脆，**不要弹跳、不要果冻**
- 反馈：即时、明确

### 6. 炫但不吵
- 同时动的东西 ≤ 2
- 动效短（大多 <300ms）
- 无意义循环 = 0
- 背景层永远安静

---

## 标志性视觉语法

### 边框系统：外粗内细（L0-L3）

```
┏━━━━━━━━━━━━━━━━━━━━━━━━┓  ← 外框：粗（2-3px）
┃ ┌──────────────────┐  ┃
┃ │                  │  ┃  ← 内框：细（1px）
┃ │     内容区域      │  ┃
┃ │                  │  ┃
┃ └──────────────────┘  ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━┛
```

| 等级 | 边框处理 | 使用场景 |
|------|----------|----------|
| **L0** | 无边框 | 普通内容块 |
| **L1** | 细边框 1px | 普通 Panel |
| **L2** | 外粗(2px) + 内细 + 2px间隙 | 关键容器、主画布 |
| **L3** | 外粗(accent色) + 内细 | **仅限当前焦点模块**，同屏≤1 |

**关键规则**：
- accent 外框只给 L3（焦点/告警）
- 双层边框的 2px 间隙创造"物理厚度感"

### Z-Depth 层次

```
Z-10  base      → 贴地，稳定，无阴影
Z-15  raised    → 凸起，基础阴影，主要面板
Z-20  floating  → 悬浮，强调阴影+blur，弹窗/详情
```

### 圆角规则
| 场景 | 圆角 |
|------|------|
| 大容器/面板 | 0-4px |
| 按钮/输入框 | 2-4px |
| 标签/徽章 | 2px |
| 需要"硬"的地方 | **0px** |

**原则**：宁方勿圆。

---

## Design Tokens

### 颜色
```
accent:       #FF6A00 (橙，焦点/告警)
accent-alt:   #18D1FF (青，科技/辅助)
bg-base:      #070A0E (深黑蓝，页面背景)
bg-elevated:  #151D2E (提亮，面板背景)
text-primary: #E6EDF3
text-secondary: #9AA6B2
border-strong: #3A4A5A
border-weak: rgba(42, 58, 70, 0.5)
```

### 间距（8pt 系统）
```
micro:  4px  (仅组件内部微调)
sm:     8px  (布局起点)
md:     16px
lg:     24px
xl:     32px
```

### 动效时长
```
instant: 80ms   (点击反馈)
fast:    140ms  (hover/focus)
base:    220ms  (面板展开)
slow:    320ms  (页面切换)
```

**缓动**：`cubic-bezier(0.4, 0, 0.2, 1)` —— 干脆，不弹跳

---

## 组件速查

### 面板 TacticalPanel
```tsx
<TacticalPanel level="L2" elevation="raised">
  {/* 内容 */}
</TacticalPanel>
```
- `level`: L0/L1/L2/L3 边框等级
- `elevation`: base/raised/floating Z轴层次

### 按钮 Button
| 类型 | 用途 | 样式 |
|------|------|------|
| primary | 主操作（一屏≤1区域）| accent 填充 |
| secondary | 次要操作 | 边框 + 透明底 |
| ghost | 工具栏/密集区 | 纯文字 |
| danger | 危险操作 | danger 填充 |

### 列表行 ListRow
```
[ 图标 ] | [ 标题 + 副信息 ] | [ 数值/状态 ]
```
- 焦点行：左侧 2px accent 条 + 背景亮一档

### HUD 读数 HUDMeter
```
  12,847
━━━━━━━━━━━━ 78%
 POWER LEVEL
```
- 数字：大、亮、等宽字体
- 进度条：细（2-3px）

---

## 动效系统

### 核心效果

| 效果 | 用途 | 参数 |
|------|------|------|
| **LineDraw** | 边框/内容构建出现 | 140-240ms |
| **Ping** | 点击/选中确认 | 150ms, 1次 |
| **ScanSweep** | 页面进入/数据刷新 | 800-1200ms, 1次 |
| **DataTick** | 数值变更 | 数字滚动 + 高亮衰减 |

### 状态互斥规则
```
Loading  →  禁止 Glitch, 允许多处 Ping
Error    →  禁止背景动效, 允许 1次 Glitch
Modal打开 → 冻结所有循环/环境动效
Drag/Resize → 冻结 ScanSweep
```

### 禁止事项
- ❌ 无意义循环动画
- ❌ 弹跳/果冻/软糯缓动
- ❌ 同时 >2 个动效
- ❌ 动效影响可读性

---

## 验收清单

做完页面过一遍：

- [ ] 强调色只用于焦点/告警/关键读数
- [ ] 同屏高饱和彩色 ≤ 2 种
- [ ] L3 边框（accent外框）同屏 ≤ 1 个
- [ ] 空/加载/错误状态骨架稳定
- [ ] 每个动效能解释"它在提示什么"
- [ ] 无意义循环动画 = 0
- [ ] 同屏动效 ≤ 2
- [ ] 感觉像"系统/终端"，不是网页
- [ ] 硬朗不软糯

---

## 风格边界（不是什么）

| ❌ 不是 | 为什么 |
|--------|--------|
| 赛博朋克 | 太混乱、太颓废 |
| 魔法UI | 没有凭空出现的光效 |
| 游戏cos | 是你的系统，不是抄袭 |
| 特效展示 | 功能优先，炫是附带的 |

**调性关键词**：战术 · 终端 · 控制台 · 硬朗 · 精确 · 克制

---

## 参考文档

| 文档 | 内容 |
|------|------|
| [EVOLUTION.md](./EVOLUTION.md) | 项目演进史、技术债务、路线图 |
| [参考/全境封锁设定稿.txt](./参考/全境封锁设定稿.txt) | 官方设计圣经（英文） |
| [components/](./components/) | 33个组件详细文档 |
| [src/lib/clinical-copy.ts](../src/lib/clinical-copy.ts) | 临床文风词库 |

---

*精简版 v3.0 — 提取自设定总纲1/2 (1100+行) 的核心精华*
